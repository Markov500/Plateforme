@model plateforme.Models.ViewModels.PasswordVM
@{
    ViewData["Title"] = "Modifier mon mot de passe";
    if(ViewBag.membre.Etat == "actif")
    {
        Layout = "_LayoutMembre";
    }
    else
    {
         Layout = "_Layout";
    }
   
}
 <!-- Change your password START -->
              <div class="card">
                <!-- Title START -->
                <div class="card-header border-0 pb-0">
                  <h5 class="card-title">Modifier votre mot de passe</h5>
                  <p class="mb-0">Suivez les différentes étapes pour modifier votre mot de passe</p>
                </div>
                <!-- Title START -->
                <div class="card-body">
                  <!-- Settings START -->
                  <form class="row g-3" asp-action="ChangePassword">
                      @if(ViewBag.membre.Username == null)
                      {
                        <!-- Username -->
                        <div class="col-12">
                          <label class="form-label">Définissez un nom d'utilisateur</label>
                          <input asp-for="Username" class="form-control">
                          <span asp-validation-for="Username" class="small text-danger"></span>
                        </div>
                      }
                      else
                      {
                          <input asp-for="Username" type="hidden" value="@ViewBag.membre.Username">
                      }
                      

                    <!-- Current password -->
                    <div class="col-12">
                      <label class="form-label">Entrer votre mot de passe actuel </label>
                      <input type="password" asp-for="OldPassword" class="form-control">
                      <span asp-validation-for="OldPassword" class="small text-danger"></span>
                    </div>
                    <!-- New password -->
                    <div class="col-12">
                      <label class="form-label">Nouveau mot de passe</label>
                      <!-- Input group -->
                      <div class="input-group">
                        <input class="form-control fakepassword" type="password" asp-for="NewPassword" id="psw-input" placeholder="Entrer votre nouveau mot de passe">
                        <span asp-validation-for="NewPassword" class="small text-danger"></span>
                        <span class="input-group-text p-0">
                          <i class="fakepasswordicon fa-solid fa-eye-slash cursor-pointer p-2 w-40px"></i>
                        </span>
                      </div>
                      <!-- Pswmeter -->
                      <div id="pswmeter" class="mt-2"></div>
                      <div class="d-flex mt-1">
                          <div id="pswmeter-message" class="rounded"></div>
                          <!-- Password message notification -->
                          <div class="ms-auto">
                            <i class="bi bi-info-circle ps-1" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="top" data-bs-content="Un bon mot de passe contient au moins 8 caractère, un caractère spécial, une lettre majuscule, une lettre minuscule" data-bs-original-title="" title=""></i>
                          </div>
                      </div>
                    </div>

                    <!-- Confirm password -->
                    <div class="col-12">
                      <label class="form-label">Confirmer votre nouveau mot de passe</label>
                      <input type="password" asp-for="ConfPassword" class="form-control" placeholder="">
                      <span asp-validation-for="ConfPassword" class="small text-danger"></span>
                    </div>

                    <!-- Button  -->
                    <div class="col-12 text-end">
                      <button type="submit" class="btn btn-success-soft mb-0">Modifier le mot de passe</button>
                    </div>
                  </form>
                  <!-- Settings END -->
                </div>
              </div>
              <!-- Card END -->
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}